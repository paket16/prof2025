## Задание 5:

# Для обеспечения сетевого взаимодействия настройте протокол динамической маршрутизации OSPF на роутерах
    - Обеспечьте работу hello-пакетов только на туннельном интерфейсе.

В рамках настроенного ранее туннеля настроим маршрутизацию OSPF. Используем для этого пакет FRR.

Установите его на обоих роутерах

`apt install frr`

Затем перейдите в конфигурационный файл: `/etc/frr/daemons`

Там включить OSPF: `ospfd=yes`

После конфигурации перезагрузите службу FRR: `systemctl restart frr`
Далее вводим команды (Для ЕКБ): 
`vtysh`  - для входа в систему FRR

`conf t` – зайдем в терминал

`router ospf`  -  переходим в режим OSPF (ой, ну всё как в пакет трейсере)

`network 10.5.5.0/24 area 0` – указываем подсети, которые планируем опубликовать. А опубликовать надо – подсеть в туннеле, и все подсети офиса. Кроме подсети в ИНТЕРНЕТ!(скопировал, не объяснение..)
```
    network 10.15.10.0/24 area 0 
	network 10.20.10.0/24 area 0
	passive-interface default
	int tun1
	no ip ospf passive
	do wr
```

Таким образом мы выполнил настройку OSPF на RTR-EKB1(Предположительно)

## Настройка для Data

```
vtysh
conf t
router ospf
network 10.5.5.0/24 area 0
network 10.6.6.0/24 area 0
network 192.168.100.0/24 area 0
network 10.200.100.0/24 area 0
network 172.16.100.0/24 area 0
passive-interface default
int tun1
no ip osp passive
do wr
int tun2
no ip osp passive
do wr
```

`network 10.6.6.0/24 area 0` - строку вставил наугад, так как дата и ксс соединяются туннелем
10.6.6.0/24

# Настройка RTR KRR

```
vtysh
conf t
router ospf
network 10.6.6.0/24 area 0
network 10.10.100.0/24 area 0
network 10.20.100.0/24 area 0
passive-interface default
int tun1
no ip osp passive
do wr
```


tun1 - название интерфейса. использовать такое, если в скрипте vpn прописано такое название

tun 2 аналогично

Проверка

Команда – `do sh ip ospf nei` покажет соседей в протоколе OSPF

А команда – `ip r`
Покажет  маршруты, которые кстати будут получены через OSPF (обратите на это внимание)
